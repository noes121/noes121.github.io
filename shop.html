<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/styleshop.css">
    <script src="JS/shop.js" async></script>
    <link rel="stylesheet" href="CSS/stylebuy.css">
    <link rel="shortcut icon" href="/Imagenes/IMG-HOME/IMG-INICIO/LogoORX.png" type="image/x-icon">
    <link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <title>Compras | ORX</title>
    <style>
    #contenedorPagina2 {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 999;
        }

        #fondoOscuro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent; 
            display: none; 
        }
        #pagina1.opacidadReducida {
            opacity: 0.7;
            transition: opacity 0.5s ease; 
        }
        .cards .active {
    box-shadow: 0 0 20px rgb(48, 240, 0);
    transform: scale(1.05);

  
}   .total{
        font-size: 20px;
        font-weight: bold;
    }
    </style>
      <style>
        
	#dev {
	color: rgb(226, 106, 106);
	font-size: 17px;
	font-weight: bold;
	opacity: 1;
    cursor: pointer;
  }
  #dev:hover{
	color: red;

  }


form {
    
    display: none;
   
    padding: 20px;
    margin: 50px auto; 
    width: 35%;

    }



      </style>
</head>
<body id="pagina1">

    <script>
        function devtoolIsOpening() {
            console.clear();
            let before = new Date().getTime();
            debugger;
            let after = new Date().getTime();
            if (after - before > 200) {
                document.write(" Dont open Developer Tools. ");
                window.location.replace("https://www.google.com");
            }
            setTimeout(devtoolIsOpening, 100);
        }
        devtoolIsOpening();
        </script>


    <div id="particles-js"></div>
    <script src="JS/particles.min.js"></script>
    <script src="JS/particles.json"></script>

    <div class="content">
    <section class="cabecera">
		<header class="appear-header">
            <a href="index.html" aria-current="page" class="logo header__logo nuxt-link-exact-active nuxt-link-active"><img  src="/Imagenes/IMG-HOME/IMG-INICIO/LogoORX.png" alt="Logo" class="logo__img" >
            
            </a>
            <span>👈Volver</span>
        </header>  
      
    </section>
     <div id="title"><h1>Desata el Poder de tus Juegos con Nuestros Innovadores Programas</h1></div>


    <section class="contenedor">

     
        <div class="contenedor-items">
            <div class="item">
                <span class="titulo-item">Left 4 dead 2</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/left4dead2.jpg" alt="" class="img-item" >
                <span class="precio-item">$10</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Bloodhunt</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/bloodhunt.jpg" alt="" class="img-item">
                <span class="precio-item">$20</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Dota 2</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/dota2.jpg" alt="" class="img-item">
                <span class="precio-item">$30</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Valorant</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/valorant.jpg" alt="" class="img-item">
                <span class="precio-item">$150</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Free Fire</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/freefire.jpg" alt="" class="img-item">
                <span class="precio-item">$30</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Spotify</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/spotify.png" alt="" class="img-item">
                <span class="precio-item">$20</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>
            <div class="item">
                <span class="titulo-item">Discord Nitro</span>
                <img src="/Imagenes/IMG-HOME/IMG-CHEATS/discord.webp" alt="" class="img-item">
                <span class="precio-item">$5</span>
                <button class="boton-item">Agregar al Carrito</button>
            </div>


        </div>
        <!-- Carrito de Compras -->
        <div class="carrito" id="carrito">
            <div class="header-carrito">
                <h2>Tu Carrito</h2>
            </div>

            <div class="carrito-items">
            </div>
            <div class="carrito-total">
                <div class="fila">
                    <strong>Tu Total</strong>
                    <span class="carrito-precio-total">
                        $120.000,00
                    </span>
                </div>
                <button id="openBuyPage" class="btn-pagar"  onclick="mostrarFormulario()" >Pagar <i class="fa-solid fa-bag-shopping"></i> </button>
            </div>
            <div id="buyContent" ></div>

  
        
        </div>
        

    </section>
          <!-- SECCION DE PAGO-->
          <form action="">
            <div class="container">
                
                <h3 id="titless">Confirmar tu pago</h3>
                <div class="first-row">
                    <div class="owner">
                        <h5>Propietario</h5>
                        <div class="input-field">
                            <input id="user" type="text" autocomplete="off"oninput="allowOnlyLetters(this)" required>
                        </div>
                    </div>
                    <div class="cvv">
                        <h5>CVV</h5>
                        <div class="input-field">
                            <input id="cvvv" type="password"maxlength="3" autocomplete="off" oninput="allowOnlyNumbers(this)" required>
                        </div>
                    </div>
                    <div class="total">
                        <h5>Total a pagar</h5>
                            <span  style="color: red;" class="totalpagar"><b>2012</b></span>
                    </div>
                </div>
                <div class="second-row">
                    <div class="card-number">
                        <h5>Número de tarjeta</h5>
                        <div class="input-field">
                            <input id="num" type="text" maxlength="19" autocomplete="off" oninput="formatTarjeta(this)" required placeholder="">
                        </div>
                    </div>
                </div>
                <div class="third-row">
                    <h5>Fecha de expiracion</h5>
                    
                    <div class="selection">
                        <div class="date">
                            <select name="months" id="months" required>
                                <option value="Jan">Ene</option>
                                <option value="Feb">Feb</option>
                                <option value="Mar">Mar</option>
                                <option value="Apr">Abr</option>
                                <option value="May">May</option>
                                <option value="Jun">Jun</option>
                                <option value="Jul">Jul</option>
                                <option value="Aug">Ago</option>
                                <option value="Sep">Sep</option>
                                <option value="Oct">Oct</option>
                                <option value="Nov">Nov</option>
                                <option value="Dec">Dic</option>
                              </select>
                              <select name="years" id="years">
                                <option value="2020">2020</option>
                                <option value="2019">2021</option>
                                <option value="2018">2022</option>
                                <option value="2017">2023</option>
                                <option value="2016">2024</option>
                                <option value="2015">2025</option>
                              </select>
                        </div>
                       
                   <div class="cards">
                <div class="paypal" onclick="seleccionarTarjeta(this)">
                    <img src="/Imagenes/IMG-SHOP/IMG_BUY/vi.png" alt="PayPal">
                </div>
                <div class="master" onclick="seleccionarTarjeta(this)">
                    <img src="/Imagenes/IMG-SHOP/IMG_BUY/mc.png" alt="MasterCard">
                </div>
                <div class="debito" onclick="seleccionarTarjeta(this)">
                    <img src="/Imagenes/IMG-SHOP/IMG_BUY/pp.png" alt="Tarjeta de débito">
                </div>
                    
            </div>
                    </div>    
                </div>
                <a id="confirmar" href="#"   onclick="verificarCampos() ; verificartarjeta();" >Confirmar pago</a>
                <a id="cancelarr" href="#" onclick="cancelar()">Cancelar</a>
                <div class="status">
                    <h3 id="titles">status</h3>
                </div>
                
            </div>
        
        
        </form>



    
    <section style="border-bottom:none;" class="pie">

		<footer>
			<div class="redes-sociales">
				<a id="red" href="#" class="red-social-icono"><i class="fab fa-facebook"></i></a>
				<a id="red" href="#" class="red-social-icono"><i class="fab fa-twitter"></i></a>
				<a id="red" href="#" class="red-social-icono"><i class="fab fa-instagram"></i></a>
				
			</div>
			<p class="derechos-autor">COPYRIGHT © 2023 <a id="dev">| Developer:Noe</a></p>
		  </footer>
		  
		  
	</section>
    
</div>
<script>


</script>
<script>
 function mostrarFormulario() {
    var formulario = document.querySelector('form');
      formulario.style.display = 'block';
     
    formulario.scrollIntoView({ behavior: 'smooth' });
    }

    function ocultarFormulario() {
      var formulario = document.querySelector('form');
      formulario.style.display = 'none';
    }

    document.addEventListener('DOMContentLoaded', function() {
      
    });

  </script>


<script>
    function seleccionarTarjeta(card) {
      
        var cards = document.querySelectorAll('.cards > div');
        cards.forEach(c => c.classList.remove('active'));
    
        card.classList.add('active');
    }

    function formatTarjeta(input) {
       
        let tarjetaNumber = input.value.replace(/\D/g, '');
        tarjetaNumber = tarjetaNumber.replace(/(\d{4})(?=\d)/g, '$1 ');
        input.value = tarjetaNumber;
    }

    function allowOnlyLetters(input) {
        
        input.value = input.value.replace(/[^A-Za-z]/g, '');
    }
 
    function allowOnlyNumbers(input) {
        
        input.value = input.value.replace(/\D/g, '');
    }




    function pagarClicked(){
        var carritoItems = document.querySelectorAll('.carrito .carrito-items .carrito-item .carrito-item-titulo');
    var titulos = Array.from(carritoItems).map(item => item.textContent.trim()).join(', ');
    Swal.fire({
        icon: "success",
        title: "✔️<span style='color: lime;'>Adquisición realizada con éxito.</span>✔️",
        text: "-"+ titulos + "-",
        background: "#141a25",
       showClass: {
        popup: `
          animate__animated
          animate__fadeInUp
          animate__faster
        `
      },
      hideClass: {
        popup: `
          animate__animated
          animate__fadeOutDown
          animate__faster
        `
      }
    });
  
    var carritoItems = document.getElementsByClassName('carrito-items')[0];
    while (carritoItems.hasChildNodes()){
        carritoItems.removeChild(carritoItems.firstChild)
    }
    actualizarTotalCarrito();
    ocultarCarrito();
    ocultarFormulario();
}
function verificarCampos() {
    var propietario = document.getElementById('user').value.trim();
    var cvv = document.getElementById('cvvv').value.trim();
    var numeroTarjeta = document.getElementById('num').value.trim();
    var metodoSeleccionado = document.querySelector('.cards .active');

    if (propietario === '' || cvv === '' || numeroTarjeta === '') {
        Swal.fire({
            icon: "error",
            title: "❌<span style='color: red;'>Completa los campos vacíos.</span>❌",
            background: "#141a25",
            showClass: {
                popup: `
                    animate__animated
                    animate__fadeInUp
                    animate__faster
                `
            },
            hideClass: {
                popup: `
                    animate__animated
                    animate__fadeOutDown
                    animate__faster
                `
            }
        });
        return false;
    }

    if (!metodoSeleccionado) {
        Swal.fire({
            icon: "error",
            title: "❌<span style='color: red;'>Selecciona un método de pago.</span>❌",
            background: "#141a25",
            showClass: {
                popup: `
                    animate__animated
                    animate__fadeInUp
                    animate__faster
                `
            },
            hideClass: {
                popup: `
                    animate__animated
                    animate__fadeOutDown
                    animate__faster
                `
            }
        });
        return false;
    }

    return true;
}


document.getElementById('confirmar').addEventListener('click', function (event) {
    event.preventDefault();

    if (verificarCampos()) {
       
        pagarClicked();
    }
});


function cancelar(){
    var carritoItems = document.querySelectorAll('.carrito .carrito-items .carrito-item .carrito-item-titulo');
    var titulos = Array.from(carritoItems).map(item => item.textContent.trim()).join(', ');

  
    var carritoItems = document.getElementsByClassName('carrito-items')[0];
    while (carritoItems.hasChildNodes()){
        carritoItems.removeChild(carritoItems.firstChild)
    }
    actualizarTotalCarrito();
    ocultarCarrito();
    ocultarFormulario();
    

}
</script>


</body>
</html>